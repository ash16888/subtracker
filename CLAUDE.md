# Проект "SubTracker"

## 1. Общее описание и цель

**Название проекта:** SubTracker
**Цель:** Создать простое веб-приложение для управления личными подписками. Главная задача — предоставить пользователю наглядный список всех его подписок, чтобы контролировать ежемесячные расходы и вовремя получать напоминания о предстоящих списаниях.

## 2. Основные сущности

### Сущность: Подписка (Subscription)

Каждая запись о подписке должна содержать следующие поля:

- `name` (Название сервиса): `text`, обязательное. Пример: "Netflix".
- `amount` (Сумма платежа): `number`, обязательное. Пример: 999.
- `currency` (Валюта): `text`, обязательное. Пример: "₽".
- `billing_period` (Период списания): `text` (enum: 'monthly', 'yearly'), обязательное. Пример: 'monthly'.
- `next_payment_date` (Дата следующего платежа): `date`, обязательное.
- `category` (Категория): `text`. Пример: "Стриминг", "Работа", "Музыка".
- `url` (Ссылка на управление): `text`. Ссылка на страницу отмены/управления подпиской.
- `user_id` (ID пользователя): `uuid`, для связи с пользователем в Supabase.

## 3. Функциональные требования

### 3.1. Аутентификация пользователя

- Пользователь должен иметь возможность зарегистрироваться и войти в систему.
- Вход/регистрация будет реализована через Supabase Auth (например, по email и паролю).
- Все данные о подписках должны быть привязаны к конкретному пользователю.

### 3.2. Управление подписками (CRUD)

- **Создание (Create):** Пользователь должен иметь возможность добавить новую подписку через форму, заполняя все необходимые поля.
- **Чтение (Read):**
    - На главном экране должен отображаться список всех подписок пользователя.
    - Список должен быть отсортирован по дате следующего платежа (от ближайшей к дальней).
    - Каждая карточка в списке должна показывать: Название, Сумму и Дату следующего платежа.
    - Должна быть возможность фильтрации подписок по категории.
- **Обновление (Update):** Пользователь должен иметь возможность редактировать любую из своих подписок.
- **Удаление (Delete):** Пользователь должен иметь возможность удалить подписку.

### 3.3. Дашборд и аналитика

- На видном месте (например, в шапке сайта) должна отображаться **общая сумма расходов за следующий месяц**. Эта сумма должна динамически пересчитываться на основе всех активных подписок.

### 3.4. Уведомления

- Приложение должно отправлять пользователю **браузерные push-уведомления** о предстоящем списании.
- Уведомление должно приходить за 3 дня до даты следующего платежа.
- Текст уведомления: "Напоминание SubTracker: [Дата] списание [Сумма] за подписку на '[Название]'".

## 4. Технологический стек

- **Фронтенд:** React.js
- **Стилизация:** Tailwind CSS
- **Бэкенд и База Данных:** Supabase
  - **Supabase Auth:** для аутентификации пользователей.
  - **Supabase Database:** для хранения данных о подписках.
  - **Supabase Functions (возможно в будущем):** для более сложной логики уведомлений, если потребуется.

## 5. План разработки (Шаги)

1.  Настройка проекта: React + Tailwind CSS.
2.  Настройка проекта в Supabase, создание таблицы `subscriptions`.
3.  Реализация аутентификации (вход, регистрация, выход).
4.  Создание формы для добавления/редактирования подписки.
5.  Вывод списка подписок с сортировкой и фильтрацией.
6.  Реализация удаления подписки.
7.  Расчет и отображение суммарных расходов за месяц.
8.  Настройка и реализация браузерных уведомлений.

